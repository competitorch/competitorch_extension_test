<div class="container">
	<div class="row">
		<div class="col-md-12">
			<h4 data-i18n="sitemap_xml_import_title">Import URLs from XML Sitemap</h4>
			<p class="text-muted" data-i18n="sitemap_xml_import_description">
				Fetch URLs from an XML sitemap and optionally filter them with a regex pattern.
			</p>
		</div>
	</div>
	<form id="sitemap-xml-import-form">
		<div class="form-group">
			<label for="xml-sitemap-url" data-i18n="sitemap_xml_url_label">XML Sitemap URL</label>
			<input
				type="url"
				class="form-control"
				id="xml-sitemap-url"
				name="xmlSitemapUrl"
				placeholder="https://example.com/sitemap.xml"
				required
			/>
		</div>
		<div class="form-group">
			<label for="url-regex-filter" data-i18n="sitemap_xml_regex_label"
				>URL Filter (Regex - optional)</label
			>
			<input
				type="text"
				class="form-control"
				id="url-regex-filter"
				name="urlRegexFilter"
				placeholder="itinerary|product|article"
			/>
			<span class="help-block" data-i18n="sitemap_xml_regex_help">
				Leave empty to import all URLs. Example: "itinerary" will only import URLs
				containing "itinerary".
			</span>
		</div>
		<div class="form-group">
			<button
				type="button"
				id="fetch-xml-sitemap"
				class="btn btn-primary"
				data-i18n="sitemap_xml_fetch_button"
			>
				Fetch Sitemap
			</button>
		</div>
	</form>

	<div id="xml-sitemap-results" class="hidden">
		<hr />
		<div class="row">
			<div class="col-md-6">
				<h5>
					<span data-i18n="sitemap_xml_found_urls">Found URLs:</span>
					<span id="xml-url-count" class="badge">0</span>
				</h5>
			</div>
			<div class="col-md-6 text-right">
				<button
					type="button"
					id="select-all-urls"
					class="btn btn-default btn-sm"
					data-i18n="sitemap_xml_select_all"
				>
					Select All
				</button>
				<button
					type="button"
					id="deselect-all-urls"
					class="btn btn-default btn-sm"
					data-i18n="sitemap_xml_deselect_all"
				>
					Deselect All
				</button>
			</div>
		</div>
		<div
			id="xml-url-list"
			style="
				max-height: 300px;
				overflow-y: auto;
				margin: 10px 0;
				padding: 10px;
				border: 1px solid var(--border-color);
				border-radius: 4px;
			"
		></div>
		<div class="form-group">
			<label for="new-sitemap-id" data-i18n="sitemap_xml_new_sitemap_id"
				>New Sitemap ID</label
			>
			<input
				type="text"
				class="form-control"
				id="new-sitemap-id"
				name="newSitemapId"
				placeholder="my-sitemap"
				required
			/>
		</div>
		<div class="form-group">
			<button
				type="button"
				id="create-sitemap-from-xml"
				class="btn btn-success"
				data-i18n="sitemap_xml_create_button"
			>
				Create Sitemap with Selected URLs
			</button>
		</div>
	</div>

	<div id="xml-import-error" class="alert alert-danger hidden"></div>
	<div id="xml-import-loading" class="hidden">
		<p>
			<i class="glyphicon glyphicon-refresh spinning"></i>
			<span data-i18n="sitemap_xml_loading">Loading sitemap...</span>
		</p>
	</div>
</div>

<style>
	.hidden {
		display: none !important;
	}
	.spinning {
		animation: spin 1s linear infinite;
	}
	@keyframes spin {
		100% {
			transform: rotate(360deg);
		}
	}
	.url-checkbox-item {
		padding: 5px 0;
		border-bottom: 1px solid var(--border-color);
	}
	.url-checkbox-item:last-child {
		border-bottom: none;
	}
	.url-checkbox-item label {
		margin-bottom: 0;
		font-weight: normal;
		word-break: break-all;
	}
</style>
